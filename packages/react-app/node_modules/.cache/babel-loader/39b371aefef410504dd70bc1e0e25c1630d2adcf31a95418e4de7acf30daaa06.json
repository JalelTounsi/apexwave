{"ast":null,"code":"import detectEthereumProvider from '@metamask/detect-provider';\nimport { providers } from 'ethers';\nimport { isWebSocketProvider } from './isWebSocketProvider';\nconst GET_METAMASK_LINK = 'https://metamask.io/download.html';\nexport async function getInjectedProvider(getPollingInterval) {\n  var _a;\n  if (!window.ethereum) {\n    window.open(GET_METAMASK_LINK);\n    return undefined;\n  }\n  const injectedProviders = (window === null || window === void 0 ? void 0 : window.ethereum).providers || [];\n  const injectedProvider = (_a = injectedProviders.find(provider => {\n    var _a;\n    return (_a = provider.isMetaMask) !== null && _a !== void 0 ? _a : false;\n  })) !== null && _a !== void 0 ? _a : await detectEthereumProvider();\n  if (!injectedProvider) {\n    window.open(GET_METAMASK_LINK);\n    return undefined;\n  }\n  const provider = new providers.Web3Provider(injectedProvider, 'any');\n  const chainId = await provider.send('eth_chainId', []);\n  if (!isWebSocketProvider(provider)) {\n    provider.pollingInterval = getPollingInterval(chainId);\n  }\n  return provider;\n}","map":{"version":3,"mappings":"AAAA,OAAOA,sBAAsB,MAAM,2BAA2B;AAC9D,SAASC,SAAS,QAAQ,QAAQ;AAClC,SAASC,mBAAmB,QAAQ,uBAAuB;AAE3D,MAAMC,iBAAiB,GAAG,mCAAmC;AAE7D,OAAO,eAAeC,mBAAmB,CAACC,kBAAgD;;EACxF,IAAI,CAACC,MAAM,CAACC,QAAQ,EAAE;IACpBD,MAAM,CAACE,IAAI,CAACL,iBAAiB,CAAC;IAC9B,OAAOM,SAAS;;EAGlB,MAAMC,iBAAiB,GAAU,CAACJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,QAAgB,EAACN,SAAS,IAAI,EAAE;EAC1E,MAAMU,gBAAgB,GACpB,uBAAiB,CAACC,IAAI,CAAEC,QAAQ,IAAI;;IAClC,OAAO,cAAQ,CAACC,UAAU,mCAAI,KAAK;EACrC,CAAC,CAAC,mCAAK,MAAMd,sBAAsB,EAAG;EAExC,IAAI,CAACW,gBAAgB,EAAE;IACrBL,MAAM,CAACE,IAAI,CAACL,iBAAiB,CAAC;IAC9B,OAAOM,SAAS;;EAGlB,MAAMI,QAAQ,GAAG,IAAIZ,SAAS,CAACc,YAAY,CAACJ,gBAAgB,EAAE,KAAK,CAAC;EACpE,MAAMK,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC;EACtD,IAAI,CAACf,mBAAmB,CAACW,QAAQ,CAAC,EAAE;IAClCA,QAAQ,CAACK,eAAe,GAAGb,kBAAkB,CAACW,OAAO,CAAC;;EAExD,OAAOH,QAAQ;AACjB","names":["detectEthereumProvider","providers","isWebSocketProvider","GET_METAMASK_LINK","getInjectedProvider","getPollingInterval","window","ethereum","open","undefined","injectedProviders","injectedProvider","find","provider","isMetaMask","Web3Provider","chainId","send","pollingInterval"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/helpers/injectedProvider.ts"],"sourcesContent":["import detectEthereumProvider from '@metamask/detect-provider'\nimport { providers } from 'ethers'\nimport { isWebSocketProvider } from './isWebSocketProvider'\n\nconst GET_METAMASK_LINK = 'https://metamask.io/download.html'\n\nexport async function getInjectedProvider(getPollingInterval: (chaindId: number) => number) {\n  if (!window.ethereum) {\n    window.open(GET_METAMASK_LINK)\n    return undefined\n  }\n\n  const injectedProviders: any[] = (window?.ethereum as any).providers || []\n  const injectedProvider: any =\n    injectedProviders.find((provider) => {\n      return provider.isMetaMask ?? false\n    }) ?? (await detectEthereumProvider())\n\n  if (!injectedProvider) {\n    window.open(GET_METAMASK_LINK)\n    return undefined\n  }\n\n  const provider = new providers.Web3Provider(injectedProvider, 'any')\n  const chainId = await provider.send('eth_chainId', [])\n  if (!isWebSocketProvider(provider)) {\n    provider.pollingInterval = getPollingInterval(chainId)\n  }\n  return provider\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}