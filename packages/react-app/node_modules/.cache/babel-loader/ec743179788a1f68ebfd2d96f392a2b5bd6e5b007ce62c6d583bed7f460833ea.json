{"ast":null,"code":"import { encodeUint } from '../common';\nimport { encodeCalls } from '../multicall2/encoder';\nimport { ethersAbi } from './constants';\nconst selector = ethersAbi.getSighash('aggregate');\nexport function encodeAggregate(calls) {\n  // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n  // offset of the array is 0x20 because the only thing\n  // that goes before the array is the offset itself\n  const dynamicOffset = 0x20;\n  const res = selector + encodeUint(dynamicOffset);\n  // encode dynamic array of calls\n  return encodeCalls(res, calls);\n}","map":{"version":3,"mappings":"AAAA,SAASA,UAAU,QAAQ,WAAW;AACtC,SAASC,WAAW,QAAQ,uBAAuB;AACnD,SAASC,SAAS,QAAQ,aAAa;AAEvC,MAAMC,QAAQ,GAAGD,SAAS,CAACE,UAAU,CAAC,WAAW,CAAC;AAElD,OAAM,SAAUC,eAAe,CAACC,KAAyB;EACvD;EAEA;EACA;EACA,MAAMC,aAAa,GAAG,IAAI;EAC1B,MAAMC,GAAG,GAAGL,QAAQ,GAAGH,UAAU,CAACO,aAAa,CAAC;EAEhD;EACA,OAAON,WAAW,CAACO,GAAG,EAAEF,KAAK,CAAC;AAChC","names":["encodeUint","encodeCalls","ethersAbi","selector","getSighash","encodeAggregate","calls","dynamicOffset","res"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/abi/multicall/encoder.ts"],"sourcesContent":["import { encodeUint } from '../common'\nimport { encodeCalls } from '../multicall2/encoder'\nimport { ethersAbi } from './constants'\n\nconst selector = ethersAbi.getSighash('aggregate')\n\nexport function encodeAggregate(calls: [string, string][]) {\n  // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n\n  // offset of the array is 0x20 because the only thing\n  // that goes before the array is the offset itself\n  const dynamicOffset = 0x20\n  const res = selector + encodeUint(dynamicOffset)\n\n  // encode dynamic array of calls\n  return encodeCalls(res, calls)\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}