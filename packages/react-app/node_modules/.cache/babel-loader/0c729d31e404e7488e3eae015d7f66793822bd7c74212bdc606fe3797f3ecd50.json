{"ast":null,"code":"import { useMemo } from 'react';\nimport { useTransactionsContext } from '../providers';\nimport { useEthers } from './useEthers';\n/**\n * `useTransactions` hook returns a list `transactions`. This list contains\n * all transactions that were sent using {@link useContractFunction} and {@link useSendTransaction}.\n * Transactions are stored in local storage and the status is rechecked on every new block.\n *\n * Each transaction has following type:\n *\n * ```\n * export interface StoredTransaction {\n *   transaction: TransactionResponse\n *   submittedAt: number\n *   receipt?: TransactionReceipt\n *   lastCheckedBlockNumber?: number\n *   transactionName?: string\n *   originalTransaction?: TransactionResponse\n * }\n * ```\n *\n * @see [Transaction Response](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionResponse)\n * @see [Transaction Receipt](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt)\n * @public\n */\nexport function useTransactions() {\n  let queryParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    chainId: defaultChainId,\n    account\n  } = useEthers();\n  const {\n    addTransaction,\n    transactions\n  } = useTransactionsContext();\n  const {\n    chainId: _chainId\n  } = queryParams;\n  const chainId = useMemo(() => _chainId !== null && _chainId !== void 0 ? _chainId : defaultChainId, [_chainId, defaultChainId]);\n  const filtered = useMemo(() => {\n    var _a;\n    if (chainId === undefined || !account) {\n      return [];\n    }\n    return ((_a = transactions[chainId]) !== null && _a !== void 0 ? _a : []).filter(x => x.transaction.from === account);\n  }, [transactions, chainId, account]);\n  return {\n    transactions: filtered,\n    addTransaction\n  };\n}","map":{"version":3,"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAASC,sBAAsB,QAAQ,cAAc;AACrD,SAASC,SAAS,QAAQ,aAAa;AAEvC;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAM,SAAUC,eAAe,GAA8B;EAAA,IAA7BC,kFAA2B,EAAE;EAC3D,MAAM;IAAEC,OAAO,EAAEC,cAAc;IAAEC;EAAO,CAAE,GAAGL,SAAS,EAAE;EACxD,MAAM;IAAEM,cAAc;IAAEC;EAAY,CAAE,GAAGR,sBAAsB,EAAE;EACjE,MAAM;IAAEI,OAAO,EAAEK;EAAQ,CAAE,GAAGN,WAAW;EAEzC,MAAMC,OAAO,GAAGL,OAAO,CAAC,MAAMU,QAAQ,aAARA,QAAQ,cAARA,QAAQ,GAAIJ,cAAc,EAAE,CAACI,QAAQ,EAAEJ,cAAc,CAAC,CAAC;EAErF,MAAMK,QAAQ,GAAGX,OAAO,CAAC,MAAK;;IAC5B,IAAIK,OAAO,KAAKO,SAAS,IAAI,CAACL,OAAO,EAAE;MACrC,OAAO,EAAE;;IAEX,OAAO,CAAC,kBAAY,CAACF,OAAO,CAAC,mCAAI,EAAE,EAAEQ,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,WAAW,CAACC,IAAI,KAAKT,OAAO,CAAC;EACpF,CAAC,EAAE,CAACE,YAAY,EAAEJ,OAAO,EAAEE,OAAO,CAAC,CAAC;EAEpC,OAAO;IACLE,YAAY,EAAEE,QAAQ;IACtBH;GACD;AACH","names":["useMemo","useTransactionsContext","useEthers","useTransactions","queryParams","chainId","defaultChainId","account","addTransaction","transactions","_chainId","filtered","undefined","filter","x","transaction","from"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/hooks/useTransactions.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport { QueryParams } from '../constants/type/QueryParams'\nimport { useTransactionsContext } from '../providers'\nimport { useEthers } from './useEthers'\n\n/**\n * `useTransactions` hook returns a list `transactions`. This list contains\n * all transactions that were sent using {@link useContractFunction} and {@link useSendTransaction}.\n * Transactions are stored in local storage and the status is rechecked on every new block.\n *\n * Each transaction has following type:\n *\n * ```\n * export interface StoredTransaction {\n *   transaction: TransactionResponse\n *   submittedAt: number\n *   receipt?: TransactionReceipt\n *   lastCheckedBlockNumber?: number\n *   transactionName?: string\n *   originalTransaction?: TransactionResponse\n * }\n * ```\n *\n * @see [Transaction Response](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionResponse)\n * @see [Transaction Receipt](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt)\n * @public\n */\nexport function useTransactions(queryParams: QueryParams = {}) {\n  const { chainId: defaultChainId, account } = useEthers()\n  const { addTransaction, transactions } = useTransactionsContext()\n  const { chainId: _chainId } = queryParams\n\n  const chainId = useMemo(() => _chainId ?? defaultChainId, [_chainId, defaultChainId])\n\n  const filtered = useMemo(() => {\n    if (chainId === undefined || !account) {\n      return []\n    }\n    return (transactions[chainId] ?? []).filter((x) => x.transaction.from === account)\n  }, [transactions, chainId, account])\n\n  return {\n    transactions: filtered,\n    addTransaction,\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}