{"ast":null,"code":"import { providers } from 'ethers';\nimport { Event } from '../../../../helpers/event';\nexport class InjectedConnector {\n  constructor(provider) {\n    this.name = 'Injected';\n    this.update = new Event();\n    this.provider = providers.Provider.isProvider(provider) ? provider : new providers.Web3Provider(provider);\n  }\n  async connectEagerly() {\n    if (!this.provider) {\n      return;\n    }\n    try {\n      const chainId = await this.provider.send('eth_chainId', []);\n      const accounts = await this.provider.send('eth_accounts', []);\n      this.update.emit({\n        chainId: parseInt(chainId),\n        accounts\n      });\n    } catch (error) {\n      console.debug(error);\n    }\n  }\n  async activate() {\n    if (!this.provider) {\n      throw new Error('Could not activate connector');\n    }\n    try {\n      const chainId = await this.provider.send('eth_chainId', []);\n      const accounts = await this.provider.send('eth_accounts', []);\n      this.update.emit({\n        chainId: parseInt(chainId),\n        accounts\n      });\n    } catch (error) {\n      console.log(error);\n      throw new Error('Could not activate connector');\n    }\n  }\n  async deactivate() {\n    this.provider = undefined;\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAS,QAAQ,QAAQ;AAElC,SAASC,KAAK,QAAQ,2BAA2B;AAEjD,OAAM,MAAOC,iBAAiB;EAM5BC,YAAYC,QAAyF;IAJrF,SAAI,GAAG,UAAU;IAExB,WAAM,GAAG,IAAIH,KAAK,EAAuB;IAGhD,IAAI,CAACG,QAAQ,GAAGJ,SAAS,CAACK,QAAQ,CAACC,UAAU,CAACF,QAAQ,CAAC,GAAGA,QAAQ,GAAG,IAAIJ,SAAS,CAACO,YAAY,CAACH,QAAQ,CAAC;EAC3G;EAEA,MAAMI,cAAc;IAClB,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAE;MAClB;;IAGF,IAAI;MACF,MAAMK,OAAO,GAAW,MAAM,IAAI,CAACL,QAAS,CAACM,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC;MACpE,MAAMC,QAAQ,GAAa,MAAM,IAAI,CAACP,QAAS,CAACM,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC;MACxE,IAAI,CAACE,MAAM,CAACC,IAAI,CAAC;QAAEJ,OAAO,EAAEK,QAAQ,CAACL,OAAO,CAAC;QAAEE;MAAQ,CAAE,CAAC;KAC3D,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACC,KAAK,CAACF,KAAK,CAAC;;EAExB;EAEA,MAAMG,QAAQ;IACZ,IAAI,CAAC,IAAI,CAACd,QAAQ,EAAE;MAClB,MAAM,IAAIe,KAAK,CAAC,8BAA8B,CAAC;;IAGjD,IAAI;MACF,MAAMV,OAAO,GAAW,MAAM,IAAI,CAACL,QAAS,CAACM,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC;MACpE,MAAMC,QAAQ,GAAa,MAAM,IAAI,CAACP,QAAS,CAACM,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC;MACxE,IAAI,CAACE,MAAM,CAACC,IAAI,CAAC;QAAEJ,OAAO,EAAEK,QAAQ,CAACL,OAAO,CAAC;QAAEE;MAAQ,CAAE,CAAC;KAC3D,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACI,GAAG,CAACL,KAAK,CAAC;MAClB,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;;EAEnD;EAEA,MAAME,UAAU;IACd,IAAI,CAACjB,QAAQ,GAAGkB,SAAS;EAC3B","names":["providers","Event","InjectedConnector","constructor","provider","Provider","isProvider","Web3Provider","connectEagerly","chainId","send","accounts","update","emit","parseInt","error","console","debug","activate","Error","log","deactivate","undefined"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/providers/network/connectors/implementations/injected.ts"],"sourcesContent":["import { providers } from 'ethers'\nimport { Connector, ConnectorUpdateData } from '../connector'\nimport { Event } from '../../../../helpers/event'\n\nexport class InjectedConnector implements Connector {\n  public provider?: providers.Web3Provider | providers.JsonRpcProvider\n  public readonly name = 'Injected'\n\n  readonly update = new Event<ConnectorUpdateData>()\n\n  constructor(provider: providers.ExternalProvider | providers.Web3Provider | providers.JsonRpcProvider) {\n    this.provider = providers.Provider.isProvider(provider) ? provider : new providers.Web3Provider(provider)\n  }\n\n  async connectEagerly(): Promise<void> {\n    if (!this.provider) {\n      return\n    }\n\n    try {\n      const chainId: string = await this.provider!.send('eth_chainId', [])\n      const accounts: string[] = await this.provider!.send('eth_accounts', [])\n      this.update.emit({ chainId: parseInt(chainId), accounts })\n    } catch (error) {\n      console.debug(error)\n    }\n  }\n\n  async activate(): Promise<void> {\n    if (!this.provider) {\n      throw new Error('Could not activate connector')\n    }\n\n    try {\n      const chainId: string = await this.provider!.send('eth_chainId', [])\n      const accounts: string[] = await this.provider!.send('eth_accounts', [])\n      this.update.emit({ chainId: parseInt(chainId), accounts })\n    } catch (error) {\n      console.log(error)\n      throw new Error('Could not activate connector')\n    }\n  }\n\n  async deactivate(): Promise<void> {\n    this.provider = undefined\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}