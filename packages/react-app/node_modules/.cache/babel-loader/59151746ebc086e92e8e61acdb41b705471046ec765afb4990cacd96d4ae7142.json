{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { WindowContext } from './context';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function WindowProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [isActiveWindow, setActiveWindow] = useState(true);\n  useEffect(() => {\n    const visibilityChangeListener = () => {\n      switch (document.visibilityState) {\n        case 'hidden':\n          setActiveWindow(false);\n          break;\n        case 'visible':\n          setActiveWindow(true);\n          break;\n      }\n    };\n    document.addEventListener('visibilitychange', visibilityChangeListener);\n    return () => document.removeEventListener('visibilitychange', visibilityChangeListener);\n  }, []);\n  return _jsx(WindowContext.Provider, {\n    value: isActiveWindow,\n    children: children\n  });\n}","map":{"version":3,"mappings":";AAAA,SAAoBA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACtD,SAASC,aAAa,QAAQ,WAAW;AAMzC;;;AAGA,OAAM,SAAUC,cAAc,OAAoB;EAAA,IAAnB;IAAEC;EAAQ,CAAS;EAChD,MAAM,CAACC,cAAc,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAExDC,SAAS,CAAC,MAAK;IACb,MAAMM,wBAAwB,GAAG,MAAK;MACpC,QAAQC,QAAQ,CAACC,eAAe;QAC9B,KAAK,QAAQ;UACXH,eAAe,CAAC,KAAK,CAAC;UACtB;QACF,KAAK,SAAS;UACZA,eAAe,CAAC,IAAI,CAAC;UACrB;MAAK;IAEX,CAAC;IACDE,QAAQ,CAACE,gBAAgB,CAAC,kBAAkB,EAAEH,wBAAwB,CAAC;IACvE,OAAO,MAAMC,QAAQ,CAACG,mBAAmB,CAAC,kBAAkB,EAAEJ,wBAAwB,CAAC;EACzF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOK,KAACV,aAAa,CAACW,QAAQ;IAACC,KAAK,EAAET,cAAc;IAAED,QAAQ,EAAEA;EAAQ,EAAI;AAC9E","names":["useState","useEffect","WindowContext","WindowProvider","children","isActiveWindow","setActiveWindow","visibilityChangeListener","document","visibilityState","addEventListener","removeEventListener","_jsx","Provider","value"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/providers/window/provider.tsx"],"sourcesContent":["import { ReactNode, useState, useEffect } from 'react'\nimport { WindowContext } from './context'\n\ninterface Props {\n  children: ReactNode\n}\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport function WindowProvider({ children }: Props) {\n  const [isActiveWindow, setActiveWindow] = useState(true)\n\n  useEffect(() => {\n    const visibilityChangeListener = () => {\n      switch (document.visibilityState) {\n        case 'hidden':\n          setActiveWindow(false)\n          break\n        case 'visible':\n          setActiveWindow(true)\n          break\n      }\n    }\n    document.addEventListener('visibilitychange', visibilityChangeListener)\n    return () => document.removeEventListener('visibilitychange', visibilityChangeListener)\n  }, [])\n\n  return <WindowContext.Provider value={isActiveWindow} children={children} />\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}