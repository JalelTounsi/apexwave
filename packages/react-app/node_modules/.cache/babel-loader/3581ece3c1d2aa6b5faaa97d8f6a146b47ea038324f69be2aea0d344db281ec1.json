{"ast":null,"code":"var _jsxFileName = \"/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/packages/react-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useQuery } from \"@apollo/client\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { shortenAddress, useCall, useEthers, useLookupAddress } from \"@usedapp/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { Body, Button, Container, Header, Image, Link } from \"./components\";\nimport logo from \"./media/ethereumLogo.png\";\nimport { MAINNET_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport GET_AGGREGATED_UNISWAP_DATA from \"./graphql/subgraph\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction WalletButton() {\n  _s();\n  const [rendered, setRendered] = useState(\"\");\n  const {\n    ens\n  } = useLookupAddress();\n  const {\n    account,\n    activateBrowserWallet,\n    deactivate,\n    error\n  } = useEthers();\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered(\"\");\n    }\n  }, [account, ens, setRendered]);\n  useEffect(() => {\n    if (error) {\n      console.error(\"Error while connecting wallet:\", error.message);\n    }\n  }, [error]);\n  return /*#__PURE__*/_jsxDEV(Button, {\n    onClick: () => {\n      if (!account) {\n        activateBrowserWallet();\n      } else {\n        deactivate();\n      }\n    },\n    children: [rendered === \"\" && \"Connect Wallet\", rendered !== \"\" && rendered]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(WalletButton, \"OIndLwV219rcwWoey7Gbx1d4KW4=\", false, function () {\n  return [useLookupAddress, useEthers];\n});\n_c = WalletButton;\nfunction App() {\n  _s2();\n  var _useCall;\n  // Read more about useDapp on https://usedapp.io/\n  const {\n    error: contractCallError,\n    value: reserves\n  } = (_useCall = useCall({\n    contract: new Contract(addresses[MAINNET_ID].pairs[\"DAI-WETH\"], abis.pair),\n    method: \"getReserves\",\n    args: []\n  })) !== null && _useCall !== void 0 ? _useCall : {};\n  const {\n    loading,\n    error: subgraphQueryError,\n    data\n  } = useQuery(GET_AGGREGATED_UNISWAP_DATA);\n  useEffect(() => {\n    if (subgraphQueryError) {\n      console.error(\"Error while querying subgraph:\", subgraphQueryError.message);\n      return;\n    }\n    if (!loading && data && data.uniswapFactories) {\n      console.log({\n        uniswapFactories: data.uniswapFactories\n      });\n    }\n  }, [loading, subgraphQueryError, data]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(WalletButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Body, {\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        src: logo,\n        alt: \"ethereum-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Edit \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"packages/react-app/src/App.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 16\n        }, this), \" and save to reload.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://reactjs.org\",\n        children: \"Learn React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://usedapp.io/\",\n        children: \"Learn useDapp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"https://uniswap.org/docs/v2/\",\n        children: \"Learn Uniswap v2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"ce7HVGBEHRzJ7xiHAYJGTi8rZr8=\", false, function () {\n  return [useCall, useQuery];\n});\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"WalletButton\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["useQuery","Contract","shortenAddress","useCall","useEthers","useLookupAddress","React","useEffect","useState","Body","Button","Container","Header","Image","Link","logo","MAINNET_ID","addresses","abis","GET_AGGREGATED_UNISWAP_DATA","WalletButton","rendered","setRendered","ens","account","activateBrowserWallet","deactivate","error","console","message","App","contractCallError","value","reserves","contract","pairs","pair","method","args","loading","subgraphQueryError","data","uniswapFactories","log"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/packages/react-app/src/App.js"],"sourcesContent":["\nimport { useQuery } from \"@apollo/client\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { shortenAddress, useCall, useEthers, useLookupAddress } from \"@usedapp/core\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { Body, Button, Container, Header, Image, Link } from \"./components\";\nimport logo from \"./media/ethereumLogo.png\";\n\nimport { MAINNET_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport GET_AGGREGATED_UNISWAP_DATA from \"./graphql/subgraph\";\n\nfunction WalletButton() {\n  const [rendered, setRendered] = useState(\"\");\n\n  const { ens } = useLookupAddress();\n  const { account, activateBrowserWallet, deactivate, error } = useEthers();\n\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered(\"\");\n    }\n  }, [account, ens, setRendered]);\n\n  useEffect(() => {\n    if (error) {\n      console.error(\"Error while connecting wallet:\", error.message);\n    }\n  }, [error]);\n\n  return (\n    <Button\n      onClick={() => {\n        if (!account) {\n          activateBrowserWallet();\n        } else {\n          deactivate();\n        }\n      }}\n    >\n      {rendered === \"\" && \"Connect Wallet\"}\n      {rendered !== \"\" && rendered}\n    </Button>\n  );\n}\n\nfunction App() {\n  // Read more about useDapp on https://usedapp.io/\n  const { error: contractCallError, value: reserves } =\n    useCall({\n       contract: new Contract(addresses[MAINNET_ID].pairs[\"DAI-WETH\"], abis.pair),\n       method: \"getReserves\",\n       args: [],\n    }) ?? {};\n\n  const { loading, error: subgraphQueryError, data } = useQuery(GET_AGGREGATED_UNISWAP_DATA);\n\n  useEffect(() => {\n    if (subgraphQueryError) {\n      console.error(\"Error while querying subgraph:\", subgraphQueryError.message);\n      return;\n    }\n    if (!loading && data && data.uniswapFactories) {\n      console.log({ uniswapFactories: data.uniswapFactories });\n    }\n  }, [loading, subgraphQueryError, data]);\n\n  return (\n    <Container>\n      <Header>\n        <WalletButton />\n      </Header>\n      <Body>\n        <Image src={logo} alt=\"ethereum-logo\" />\n        <p>\n          Edit <code>packages/react-app/src/App.js</code> and save to reload.\n        </p>\n        <Link href=\"https://reactjs.org\">\n          Learn React\n        </Link>\n        <Link href=\"https://usedapp.io/\">Learn useDapp</Link>\n        <Link href=\"https://uniswap.org/docs/v2/\">Learn Uniswap v2</Link>\n      </Body>\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AACA,SAASA,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,cAAc,EAAEC,OAAO,EAAEC,SAAS,EAAEC,gBAAgB,QAAQ,eAAe;AACpF,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,SAASC,IAAI,EAAEC,MAAM,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,QAAQ,cAAc;AAC3E,OAAOC,IAAI,MAAM,0BAA0B;AAE3C,SAASC,UAAU,EAAEC,SAAS,EAAEC,IAAI,QAAQ,2BAA2B;AACvE,OAAOC,2BAA2B,MAAM,oBAAoB;AAAC;AAE7D,SAASC,YAAY,GAAG;EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAM;IAAEe;EAAI,CAAC,GAAGlB,gBAAgB,EAAE;EAClC,MAAM;IAAEmB,OAAO;IAAEC,qBAAqB;IAAEC,UAAU;IAAEC;EAAM,CAAC,GAAGvB,SAAS,EAAE;EAEzEG,SAAS,CAAC,MAAM;IACd,IAAIgB,GAAG,EAAE;MACPD,WAAW,CAACC,GAAG,CAAC;IAClB,CAAC,MAAM,IAAIC,OAAO,EAAE;MAClBF,WAAW,CAACpB,cAAc,CAACsB,OAAO,CAAC,CAAC;IACtC,CAAC,MAAM;MACLF,WAAW,CAAC,EAAE,CAAC;IACjB;EACF,CAAC,EAAE,CAACE,OAAO,EAAED,GAAG,EAAED,WAAW,CAAC,CAAC;EAE/Bf,SAAS,CAAC,MAAM;IACd,IAAIoB,KAAK,EAAE;MACTC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAACE,OAAO,CAAC;IAChE;EACF,CAAC,EAAE,CAACF,KAAK,CAAC,CAAC;EAEX,oBACE,QAAC,MAAM;IACL,OAAO,EAAE,MAAM;MACb,IAAI,CAACH,OAAO,EAAE;QACZC,qBAAqB,EAAE;MACzB,CAAC,MAAM;QACLC,UAAU,EAAE;MACd;IACF,CAAE;IAAA,WAEDL,QAAQ,KAAK,EAAE,IAAI,gBAAgB,EACnCA,QAAQ,KAAK,EAAE,IAAIA,QAAQ;EAAA;IAAA;IAAA;IAAA;EAAA,QACrB;AAEb;AAAC,GApCQD,YAAY;EAAA,QAGHf,gBAAgB,EAC8BD,SAAS;AAAA;AAAA,KAJhEgB,YAAY;AAsCrB,SAASU,GAAG,GAAG;EAAA;EAAA;EACb;EACA,MAAM;IAAEH,KAAK,EAAEI,iBAAiB;IAAEC,KAAK,EAAEC;EAAS,CAAC,eACjD9B,OAAO,CAAC;IACL+B,QAAQ,EAAE,IAAIjC,QAAQ,CAACgB,SAAS,CAACD,UAAU,CAAC,CAACmB,KAAK,CAAC,UAAU,CAAC,EAAEjB,IAAI,CAACkB,IAAI,CAAC;IAC1EC,MAAM,EAAE,aAAa;IACrBC,IAAI,EAAE;EACT,CAAC,CAAC,+CAAI,CAAC,CAAC;EAEV,MAAM;IAAEC,OAAO;IAAEZ,KAAK,EAAEa,kBAAkB;IAAEC;EAAK,CAAC,GAAGzC,QAAQ,CAACmB,2BAA2B,CAAC;EAE1FZ,SAAS,CAAC,MAAM;IACd,IAAIiC,kBAAkB,EAAE;MACtBZ,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEa,kBAAkB,CAACX,OAAO,CAAC;MAC3E;IACF;IACA,IAAI,CAACU,OAAO,IAAIE,IAAI,IAAIA,IAAI,CAACC,gBAAgB,EAAE;MAC7Cd,OAAO,CAACe,GAAG,CAAC;QAAED,gBAAgB,EAAED,IAAI,CAACC;MAAiB,CAAC,CAAC;IAC1D;EACF,CAAC,EAAE,CAACH,OAAO,EAAEC,kBAAkB,EAAEC,IAAI,CAAC,CAAC;EAEvC,oBACE,QAAC,SAAS;IAAA,wBACR,QAAC,MAAM;MAAA,uBACL,QAAC,YAAY;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACT,eACT,QAAC,IAAI;MAAA,wBACH,QAAC,KAAK;QAAC,GAAG,EAAE1B,IAAK;QAAC,GAAG,EAAC;MAAe;QAAA;QAAA;QAAA;MAAA,QAAG,eACxC;QAAA,iCACO;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA0C;MAAA;QAAA;QAAA;QAAA;MAAA,QAC7C,eACJ,QAAC,IAAI;QAAC,IAAI,EAAC,qBAAqB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAEzB,eACP,QAAC,IAAI;QAAC,IAAI,EAAC,qBAAqB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAqB,eACrD,QAAC,IAAI;QAAC,IAAI,EAAC,8BAA8B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAwB;IAAA;MAAA;MAAA;MAAA;IAAA,QAC5D;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEhB;AAAC,IAvCQe,GAAG;EAAA,QAGR3B,OAAO,EAM4CH,QAAQ;AAAA;AAAA,MATtD8B,GAAG;AAyCZ,eAAeA,GAAG;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}