{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { useEthers } from '../../hooks';\nimport { NotificationsContext } from './context';\nimport { DEFAULT_NOTIFICATIONS } from './model';\nimport { notificationReducer } from './reducer';\nimport { useIsMounted } from '../../hooks/useIsMounted';\nimport { nanoid } from 'nanoid';\nexport function NotificationsProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [notifications, dispatch] = useReducer(notificationReducer, DEFAULT_NOTIFICATIONS);\n  const isMounted = useIsMounted();\n  const {\n    chainId,\n    account\n  } = useEthers();\n  useEffect(() => {\n    if (account && chainId) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        chainId: chainId,\n        notification: {\n          type: 'walletConnected',\n          id: nanoid(),\n          submittedAt: Date.now(),\n          address: account\n        }\n      });\n    }\n  }, [account, chainId]);\n  const addNotification = useCallback(_ref2 => {\n    let {\n      notification,\n      chainId\n    } = _ref2;\n    if (isMounted()) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        chainId,\n        notification: Object.assign(Object.assign({}, notification), {\n          id: nanoid()\n        })\n      });\n    }\n  }, [dispatch]);\n  const removeNotification = useCallback(_ref3 => {\n    let {\n      notificationId,\n      chainId\n    } = _ref3;\n    if (isMounted()) {\n      dispatch({\n        type: 'REMOVE_NOTIFICATION',\n        chainId,\n        notificationId\n      });\n    }\n  }, [dispatch]);\n  return _jsx(NotificationsContext.Provider, {\n    value: {\n      addNotification,\n      notifications,\n      removeNotification\n    },\n    children: children\n  });\n}","map":{"version":3,"mappings":";AAAA,SAAoBA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACrE,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,oBAAoB,QAAQ,WAAW;AAChD,SAAiCC,qBAAqB,QAAmC,SAAS;AAClG,SAASC,mBAAmB,QAAQ,WAAW;AAC/C,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,MAAM,QAAQ,QAAQ;AAM/B,OAAM,SAAUC,qBAAqB,OAAoB;EAAA,IAAnB;IAAEC;EAAQ,CAAS;EACvD,MAAM,CAACC,aAAa,EAAEC,QAAQ,CAAC,GAAGV,UAAU,CAACI,mBAAmB,EAAED,qBAAqB,CAAC;EACxF,MAAMQ,SAAS,GAAGN,YAAY,EAAE;EAChC,MAAM;IAAEO,OAAO;IAAEC;EAAO,CAAE,GAAGZ,SAAS,EAAE;EAExCF,SAAS,CAAC,MAAK;IACb,IAAIc,OAAO,IAAID,OAAO,EAAE;MACtBF,QAAQ,CAAC;QACPI,IAAI,EAAE,kBAAkB;QACxBF,OAAO,EAAEA,OAAO;QAChBG,YAAY,EAAE;UACZD,IAAI,EAAE,iBAAiB;UACvBE,EAAE,EAAEV,MAAM,EAAE;UACZW,WAAW,EAAEC,IAAI,CAACC,GAAG,EAAE;UACvBC,OAAO,EAAEP;;OAEZ,CAAC;;EAEN,CAAC,EAAE,CAACA,OAAO,EAAED,OAAO,CAAC,CAAC;EAEtB,MAAMS,eAAe,GAAGvB,WAAW,CACjC,SAAsD;IAAA,IAArD;MAAEiB,YAAY;MAAEH;IAAO,CAA0B;IAChD,IAAID,SAAS,EAAE,EAAE;MACfD,QAAQ,CAAC;QACPI,IAAI,EAAE,kBAAkB;QACxBF,OAAO;QACPG,YAAY,kCAAOA,YAAY;UAAEC,EAAE,EAAEV,MAAM;QAAE;OAC9C,CAAC;;EAEN,CAAC,EACD,CAACI,QAAQ,CAAC,CACX;EAED,MAAMY,kBAAkB,GAAGxB,WAAW,CACpC,SAA2D;IAAA,IAA1D;MAAEyB,cAAc;MAAEX;IAAO,CAA6B;IACrD,IAAID,SAAS,EAAE,EAAE;MACfD,QAAQ,CAAC;QACPI,IAAI,EAAE,qBAAqB;QAC3BF,OAAO;QACPW;OACD,CAAC;;EAEN,CAAC,EACD,CAACb,QAAQ,CAAC,CACX;EAED,OACEc,KAACtB,oBAAoB,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAEL,eAAe;MAAEZ,aAAa;MAAEa;IAAkB,CAAE;IAAEd,QAAQ,EAAEA;EAAQ,EAAI;AAExH","names":["useCallback","useEffect","useReducer","useEthers","NotificationsContext","DEFAULT_NOTIFICATIONS","notificationReducer","useIsMounted","nanoid","NotificationsProvider","children","notifications","dispatch","isMounted","chainId","account","type","notification","id","submittedAt","Date","now","address","addNotification","removeNotification","notificationId","_jsx","Provider","value"],"sources":["/Users/jaleltounsi/Documents/GitHub/apexwave.fi/apexwave/node_modules/@usedapp/core/src/providers/notifications/provider.tsx"],"sourcesContent":["import { ReactNode, useCallback, useEffect, useReducer } from 'react'\nimport { useEthers } from '../../hooks'\nimport { NotificationsContext } from './context'\nimport { AddNotificationPayload, DEFAULT_NOTIFICATIONS, RemoveNotificationPayload } from './model'\nimport { notificationReducer } from './reducer'\nimport { useIsMounted } from '../../hooks/useIsMounted'\nimport { nanoid } from 'nanoid'\n\ninterface Props {\n  children: ReactNode\n}\n\nexport function NotificationsProvider({ children }: Props) {\n  const [notifications, dispatch] = useReducer(notificationReducer, DEFAULT_NOTIFICATIONS)\n  const isMounted = useIsMounted()\n  const { chainId, account } = useEthers()\n\n  useEffect(() => {\n    if (account && chainId) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        chainId: chainId,\n        notification: {\n          type: 'walletConnected',\n          id: nanoid(),\n          submittedAt: Date.now(),\n          address: account,\n        },\n      })\n    }\n  }, [account, chainId])\n\n  const addNotification = useCallback(\n    ({ notification, chainId }: AddNotificationPayload) => {\n      if (isMounted()) {\n        dispatch({\n          type: 'ADD_NOTIFICATION',\n          chainId,\n          notification: { ...notification, id: nanoid() },\n        })\n      }\n    },\n    [dispatch]\n  )\n\n  const removeNotification = useCallback(\n    ({ notificationId, chainId }: RemoveNotificationPayload) => {\n      if (isMounted()) {\n        dispatch({\n          type: 'REMOVE_NOTIFICATION',\n          chainId,\n          notificationId,\n        })\n      }\n    },\n    [dispatch]\n  )\n\n  return (\n    <NotificationsContext.Provider value={{ addNotification, notifications, removeNotification }} children={children} />\n  )\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}